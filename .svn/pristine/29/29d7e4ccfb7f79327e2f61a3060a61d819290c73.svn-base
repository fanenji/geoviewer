<!DOCTYPE HTML>

<html>
<head>
    <meta charset="utf-8">
    <title>GAS - Mappa</title>

    <!-- librerie css -->
    <link rel="stylesheet" type="text/css" href="/geoviewer/stili/extjs/resources/css/ext-all-gray.css"/>
    <link rel="stylesheet" type="text/css" href="/geoviewer/stili/default/base.css"/>
    <!-- librerie js -->
    <script src="http://maps.google.com/maps/api/js?sensor=false&v=3.2&language=it"></script>
    <script src="/geoviewer/lib/OpenLayers/OpenLayers.js" type="text/javascript"></script>
    <script src='/geoviewer/lib/proj4js/lib/proj4js-min.js'></script>
    <script type="text/javascript" src="/geoviewer/lib/ExtJs/ext.js"></script>
    <script type="text/javascript" src="/geoviewer/lib/ExtJs/locale/ext-lang-it.js"></script>
    <script src="/geoviewer/lib/Cwn2/cwn2-debug.js"></script>
    <script src="/geoviewer/lib/Cwn2/deploy-config.js"></script>



</head>

<body>
</body>

<script>
    Ext.application({
        name: 'gas',


        launch: function() {

            var config = {
                "application": {
                    "mapOptions": {
                        "initialExtent": "830036,5402959,1123018,5597635",
                        "restrictedExtent": "830036,5402959,1123018,5597635",
                        "olControls": [
                            {
                                "name": "Zoom"
                            }
                        ]
                    },
                    "layout": {
                        "statusBar": false,
                        "toolbar": null
                    }
                },
                "baseLayers": [
                    { "type": "google_roadmap", "visible": true },
                    { "type": "google_satellite", "visible": false}
                ],
                "layers": [
                    {
                        "type": "GeoJSON",
                        "name": "GAS",
                        "projection": "EPSG:4326",
                        "visible": true,
                        "url": "test2.json",
//                        "url": "/geoservices/proxy/proxy.jsp?url=http://jbint:8080/geojsonrestweb/localizzazioneStrutture",
                        "infoOptions": {
                            "infoPopUp": "<b>Elemento con ID=${ID}</b><br>" +
                                    "Label: ${NOME}<br>" +
                                    "Posti Liberi: ${POSTI_LIBERI}<br>" +
                                         "<a href='http://dcarto3.datasiel.net?ID=${ID}' target='_blank'>Scheda</a><br><br>a<br>b<br>b<br>a<br>",
                            "infoWidth": 200,
                            "infoHeight": 150
                        },
                        "classes": [
                            {
                                "filter": "classe = 0",
                                "legendLabel": "Classe 1",
                                "legendIcon": "http://parodi.datasiel.net/CartoWebNet2/img/icons/events/alien.png",
                                "styleMaps": [
                                    {
                                        "renderIntent": "default",
                                        "style": {
                                            //"externalGraphic": "http://parodi.datasiel.net/CartoWebNet2/img/icons/events/alien.png",
                                            "graphicOpacity": 1,
                                            "graphicWidth": 32,
                                            "graphicHeight": 37,
                                            "graphicXOffset": -16,
                                            "graphicYOffset": -37,
                                            "graphicTitle": "${NOME}"
                                        }
                                    }
                                ]
                            },
                            {
                                "filter": "classe > 0",
                                "legendLabel": "Classe 2",
                                "legendIcon": "http://parodi.datasiel.net/CartoWebNet2/img/icons/events/ufo.png",
                                "styleMaps": [
                                    {
                                        "renderIntent": "default",
                                        "style": {
                                            //"externalGraphic": "http://parodi.datasiel.net/CartoWebNet2/img/icons/events/ufo.png",
                                            "graphicWidth": 32,
                                            "graphicHeight": 37,
                                            "graphicOpacity": 1,
                                            "graphicXOffset": -16,
                                            "graphicYOffset": -37,
                                            "graphicTitle": "${NOME}"
                                        }
                                    }
                                ]
                            }
                        ]
                    }
                ]
            };

//            CWN2.Globals.RL_MAP_CONFIG_SERVICE = "https://geoportale.regione.liguria.it/geoservices/REST/config/map/";

            CWN2.app.load({
                appConfig: config,
                idMap: 1648,
                debug: true
            });


        } //eo launch
    });





</script>

</html>
		